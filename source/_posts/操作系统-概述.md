---
title: 操作系统-概述
date: 2022-03-12 14:51:18
tags: thinks
categories: thinks
keywords:
description: some of my thinks
top_img: 
comments: 
cover: https://ae01.alicdn.com/kf/Ue5889eaf11594a4aabca090c5d5060798.jpg
toc:  
toc_number:
copyright:
mathjax:
katex: 
---





## 一、操作系统基本特性 

​	操作系统基本特性：并发、共享、异步、虚拟

### 一、并发

​	首先区分并发和并行：

​		并发：两个或两个以上事件在同一时间间隔内，宏观上是同时发生，微观上交替发生。

​		并行：两个或两个以上事件在同一时刻发生 



​	那么下面进一步来看操作系统的并发性。

​	计算机系统上同时运行着多个程序，这些程序宏观上同时运行，微观上交替运行



注：

- 单核CPU 同一时刻只能运行单个程序，各个程只能并发执行。

### 二、共享

​	即资源共享，系统内的资源可供内存内多个程序共同使用。

1、共享方式

​	共享方式分成两种 ：互斥共享和同时共享方式

​	注：互斥共享指的是一个时间段内只允许一个进程访问该资源，例如摄像头。同时共享相反。



综上来看：并发性和共享性是互相为存在条件的。



### 三、虚拟性

​	物理上的实体编程逻辑上的对应物。

​	举个例子：

​	QQ 需要254MB内存、迅雷需要500MB 内存，加入我的电脑只有2G，依然能够运行这些程序。

​	虚拟技术：

- 空分复用技术（如虚拟存储器技术）
- 时分复用技术（如虚拟处理机）



### 四、异步	

​	多道程序下，允许多个进程并发执行，由于**资源有限**，之形式断断续续的，速度是不可知的。

只有系统拥有并发行，才会有异步性的特征。

### 二、操作系统发展和分类

一、操作系统的发展：

1、手工操作阶段：

<img src="https://cdn.jsdelivr.net/gh/chen-boran/Picture_bed/img/202203121511147.png" alt="image-20220312151119952" style="zoom:80%;" />

2、脱机输入输出阶段

<img src="https://cdn.jsdelivr.net/gh/chen-boran/Picture_bed/img/202203121512463.png" alt="image-20220312151240260" style="zoom:80%;" />

3、批处理阶段

<img src="https://cdn.jsdelivr.net/gh/chen-boran/Picture_bed/img/202203121513288.png" alt="image-20220312151342171" style="zoom:80%;" />

但是还是没有提供人机交互的问题。

4、分时操作系统

<img src="https://cdn.jsdelivr.net/gh/chen-boran/Picture_bed/img/202203121515301.png" alt="image-20220312151500158" style="zoom:80%;" />

5、实时操作系统

<img src="https://cdn.jsdelivr.net/gh/chen-boran/Picture_bed/img/202203121515388.png" alt="image-20220312151525257" style="zoom:80%;" />



注：重点了解各个操作系统的优缺点。



### 三、操作系统的运行

举个例子：一条代码在计算机运行，首先通过编译器翻译成CPU能够读懂的二进制机器指令，然后交由CPU 执行。

1、两种类型的程序

需要区分两种程序：

- 内核程序：操作系统的组成部分，组成了操作系统内核

- 应用程序：运行在操作系统之上的程序。

  需要注意的是，操作系统内核有时候会执行一些**特权指令**。影响重大，因此只能操作系统内核来使用。（这些特权指令都是提前定义好的，CPU 可以识别）

2、两种状态

那么CPU如何区分，内核程序和应用程序呢？

​	CPU有两种状态：内核态和用户态

- 处于内核态（管态）时，说明运行的是内核程序。
- 处于用户态（目态），说明运行的是应用程序，只能执行非特权指令

拓展：CPU 中的PSW有一个二进制位，1表示处于内核态，0表示用户态。



3、状态的切换

​	<img src="https://cdn.jsdelivr.net/gh/chen-boran/Picture_bed/img/202203121529618.png" alt="image-20220312152912447" style="zoom:80%;" />

因此我们可以总结：内核态到用户态的转变，进行修改PSW的 特权指令；用户态到内核态的转变，由中断引起，硬件自动完成。



### 四、中断和异常

一、中断

操作系统夺回CPU 是使用权的唯一途径。

类型：内中断和外中断

- 内中断：也叫异常，CPU执行的当前指令，引发的内部中断信号，引起内部中断。

  此外还有：陷入指令（程序故意引发的）：应用程序-->系统内核（系统调用就是依赖于陷入指令完成，）

  故障、终止



- 外中断：一般叫做中断，CPU外部的来的中断信号，与当前运行程序无关。

例：时钟中断：由时钟部件发来的中断信号。

​		IO设备发来的中断信号。

二、中断的基本原理

1、检查中断信号（又分成内外中断两种检测机制）

2、找到相应的中断处理程序，通过查找中断向量表的方式执行。中断处理程序都运行在内核态。



### 六、系统调用 

1、

是操作系统提供的。使上层应用能够请求操作系统内核提供服务。和函数调用很类似。

​	<img src="https://cdn.jsdelivr.net/gh/chen-boran/Picture_bed/img/202203121546102.png" alt="image-20220312154614995" style="zoom:80%;" />

2、系统调用的分类

在此不过多叙述如图：

​	<img src="https://cdn.jsdelivr.net/gh/chen-boran/Picture_bed/img/202203121547178.png" alt="image-20220312154749072" style="zoom:80%;" />

​	凡是对于共享资源的使用就要经过系统调用来实现。由操作系统内核提供服务，进行调度。这样可以提高操作系统的安全性和稳定性。

 3、**系统调用过程**

以编辑的程序调用库函数的例子进行分析。

<img src="https://cdn.jsdelivr.net/gh/chen-boran/Picture_bed/img/202203121552934.png" alt="image-20220312155236772" style="zoom:80%;" />



### 七、操作系统内核

1、

内核是操作系统最核心的部分，运行在内核态的程序叫做内核程序。

通过如下图示初步了解：

​	<img src="https://cdn.jsdelivr.net/gh/chen-boran/Picture_bed/img/202203121555711.png" alt="image-20220312155522618" style="zoom:80%;" />



2、**大内核和微内核**

大内核和小内核的相关功能划分不同，某些内核包含的功能想要执行就要到核心态运行。用户态和内核态的切换需要相关的代价。微内核和大内核各有各的有缺低点。
